<div class="pane-group">
    <div class="pane pane-sm sidebar">
        <nav class="nav-group">
            <h5 class="nav-group-title">Files</h5>
                  <span class="nav-group-item" v-on:click="reload" v-bind:class="{ 'active': cfile.rev == 'Master' }">
                    <span class="icon icon-home" ></span>
                    Hosts
                  </span>

        </nav>
        <nav class="nav-group" v-if="settings.history">
            <h5 class="nav-group-title">History <small>({{ history.length }}/{{ settings.historyNb }})</small></h5>
                  <span class="nav-group-item" v-bind:class="{ 'active': file.rev == cfile.rev }" v-on:click="load(index)" v-for="(index, file) in history">
                         {{ file.rev }} - <small>{{ file.created_at | moment 'YYYY/MM/DD HH:mm' }}</small>
                      <span class="icon icon-trash" v-on:click="remove(index)" ></span>
                  </span>

        </nav>
    </div>

    <div class="pane">
        <div class="tab-group">
            <div class="tab-item " v-bind:class="{ 'active': raw }" v-on:click="raw = true">
                <span class="icon icon-cancel icon-close-tab" ></span>
                Host ({{ cfile.rev }})
            </div>
            <div class="tab-item " v-bind:class="{ 'active': !raw }" v-on:click="raw = false">
                <span class="icon icon-cancel icon-close-tab"></span>
                Editor Mode ({{ cfile.rev }})
            </div>
        </div>

        <codemirror v-show="raw" id="t-file" v-on:keyup="saveMe" :model.sync="hosts_datas"></codemirror>

        <div v-show="!raw" class="padded" v-on:keypress="saveMeEditor" >
            <div v-for="ip in hostObject" class="box-host" >
                <div class="header" @dblclick="editeIp(ip)">
                    <span v-show="ipEdited != ip">{{ ip.ip }} <i @click="addDomain(ip)" class="fa fa-plus-square-o"></i></span>
                    <input @blur="doneAddDomain(ip)"
                           @keyup.enter="doneAddDomain(ip)"
                           @keyup.esc="cancelAddDomain(ip)"
                           v-to-focus="domainAdd == ip"
                           v-show="domainAdd == ip" type="text" v-model="newDomain">
                    <input @blur="doneEditIp(ip)"
                           @keyup.enter="doneEditIp(ip)"
                           @keyup.esc="cancelEditIp(ip)"
                           v-to-focus="ipEdited == ip"
                           v-show="ipEdited == ip" type="text" v-model="ip.ip">
                </div>
                <div class="body">
                    <ul>
                        <li v-for="(index, domain) in ip.domains"  @dblclick="editeDomain(domain)">
                            <span v-show="domainEdited != domain" >{{ domain.domain }} <i @click="removeDomain(ip,domain)" class="fa fa-minus-square-o"></i></span>
                            <input @blur="doneEditDomain(ip, domain)"
                                   @keyup.enter="doneEditDomain(ip, domain)"
                                   @keyup.esc="cancelEditDomain(domain)"
                                   v-to-focus="domainEdited == domain"
                                   v-show="domainEdited == domain" type="text" v-model="domain.domain">
                        </li>
                    </ul>
                </div>
            </div>
        </div>

    </div>
</div>